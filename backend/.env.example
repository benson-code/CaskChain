# CaskChain Backend Environment Configuration
# Copy this file to .env and fill in the values

# ==============================================
# Application Settings
# ==============================================
NODE_ENV=development
PORT=3001
API_VERSION=v1
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ==============================================
# Database Configuration
# ==============================================
MONGO_URI=mongodb://localhost:27017/caskchain
DB_NAME=caskchain
DB_CONNECTION_TIMEOUT=30000
DB_MAX_POOL_SIZE=10
DB_MIN_POOL_SIZE=2

# ==============================================
# JWT Configuration
# ==============================================
# Generate strong secrets using: openssl rand -hex 32
JWT_ACCESS_TOKEN_SECRET=your-super-secret-access-token-key-here-32-chars-min
JWT_REFRESH_TOKEN_SECRET=your-super-secret-refresh-token-key-here-32-chars-min
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_ISSUER=caskchain
JWT_AUDIENCE=caskchain-users

# ==============================================
# Blockchain Configuration
# ==============================================
# Ethereum RPC URLs (use Infura, Alchemy, or other providers)
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID
POLYGON_RPC_URL=https://polygon-mainnet.infura.io/v3/YOUR_PROJECT_ID
BSC_RPC_URL=https://bsc-dataseed1.binance.org/

# Private key for blockchain transactions (without 0x prefix in some cases)
BLOCKCHAIN_PRIVATE_KEY=0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

# Smart contract addresses
WHISKEY_CASK_CONTRACT=0x1234567890123456789012345678901234567890
WHISKEY_NFT_CONTRACT=0x1234567890123456789012345678901234567890
MARKETPLACE_CONTRACT=0x1234567890123456789012345678901234567890

# Gas settings
GAS_LIMIT=500000
MAX_FEE_PER_GAS=30000000000
MAX_PRIORITY_FEE_PER_GAS=2000000000
BLOCKCHAIN_CONFIRMATIONS=3

# ==============================================
# IPFS Configuration
# ==============================================
IPFS_API_URL=https://ipfs.infura.io:5001
IPFS_GATEWAY_URL=https://gateway.pinata.cloud
IPFS_PROJECT_ID=your_ipfs_project_id
IPFS_PROJECT_SECRET=your_ipfs_project_secret

# ==============================================
# Email Service Configuration
# ==============================================
EMAIL_PROVIDER=sendgrid
EMAIL_API_KEY=your_email_service_api_key
EMAIL_SENDER_EMAIL=noreply@caskchain.com
EMAIL_SENDER_NAME=CaskChain

# ==============================================
# Image Processing Configuration
# ==============================================
MAX_FILE_SIZE=10485760
ALLOWED_IMAGE_FORMATS=jpeg,jpg,png,webp
IMAGE_QUALITY=85
THUMBNAIL_WIDTH=300
THUMBNAIL_HEIGHT=300

# ==============================================
# Rate Limiting Configuration
# ==============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# Logging Configuration
# ==============================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DATE_PATTERN=YYYY-MM-DD-HH
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ==============================================
# Security Configuration
# ==============================================
BCRYPT_ROUNDS=12
SESSION_TIMEOUT=3600000
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=900000